@media (max-width: theme('screens.lg')) {
    .nav-menu {
        @apply .absolute;
        @apply .bg-primary-complement-shade;
        @apply .inset-x-0;
        @apply .pb-2;
        @apply .pt-6;
        @apply .px-2;
        @apply .shadow;
        @apply .w-auto;
        top: theme('spacing.24');
        @apply .border-b-2;
        @apply .border-primary;
    }

    .nav-menu__item {
        @apply .block;
        @apply .no-underline;
        @apply .mb-4;
        @apply .mt-0;
        @apply .text-primary-shade;
        @apply .border-b;
        @apply .border-primary;
    }
}

// Hamburger menu button
button#menu-toggle {
    $size: 2.5rem; // theme('spacing.10'); //  
    $margin: $size / 7;
    $width: $size;
    height: $size;
    position: relative;
    transition: all 300ms cubic-bezier(.61, .01, .42, 1);
    cursor: pointer;
  
    div {
      height: 0px;
      border: 2px solid var(--color-primary-complement);
      width: (4/7) * $size;
      margin-top: $margin / 2;
      display: block;
      position: absolute;
      transition: all 300ms cubic-bezier(.61, .01, .42, 1);
      background: var(--color-primary-complement);
  
      &:nth-child(1) {
        top: (1/9)*$size;
  
        &::before {
          opacity: 0;
          animation: ball 1.5s linear infinite;
          content: '';
          border: 2px solid var(--color-primary-complement);
          display: block;
          position: relative;
          top: 1px;
        }
      }
  
      &:nth-child(2) {
        top: (3/9)*$size;
      }
  
      &:nth-child(3) {
        top: (5/9)*$size;
      }
    }
  
    &.clicked {
      transition-delay: 100ms;
      transform: scale(1.1);
  
      div {
        &:nth-child(1) {
          transform: rotate(-33deg);
  
          &::before {
            width: 2px;
            height: 2px;
            border-radius: 50%;
            background: transparent;
            opacity: 1;
            transition: opacity 600ms cubic-bezier(.61, .01, .42, 1);
          }
        }
  
        &:nth-child(2) {
          transform: rotate(90deg);
        }
  
        &:nth-child(3) {
          transform: rotate(33deg);
        }
  
        border: 2px solid var(--color-primary-complement);
        height: (1/3)*$size;
        border-radius: 50%;
        animation: atom 350ms linear 1;
        width: (2/3)*$size;
        top: (2/8)*$size;
        background:transparent;
      }
    }
  
    &:active {
      div {
        border: 1.5px solid var(--color-primary-complement);
        height: 0px;
        border-radius: 0%;
        animation: division 300ms linear 1;
        width: (25/30)*$size;
        top: 0px;
  
        &:nth-child(1) {
          transform: rotate(-45deg);
        }
  
        &:nth-child(2) {
          opacity: 0;
          transition: all 200ms;
          width: 0px;
        }
  
        &:nth-child(3) {
          opacity: 0;
          transition: all 200ms;
          transform: rotate(45deg);
        }
      }
    }
  }
  
  @media (prefers-reduced-motion: reduce) {
    div {
      animation: none !important;
    }
  }
  
  
  @keyframes atom {
    0% {
      transform: rotate(180deg);
    }
  }
  
  @keyframes division {
    0% {
      transform: rotate(180deg);
    }
  }
  
  @keyframes ball {
  
    // rightmost
    0% {
      left: -20%;
      top: 10%;
    }
  
    13% {
      left: 10%;
      top: -35%;
    }
  
    // topmost
    25% {
      left: 45%;
      top: -50%;
    }
  
    37% {
      left: 80%;
      top: -20%;
    }
  
    // leftmost
    50% {
      left: 98%;
      top: 18%;
    }
  
    63% {
      left: 80%;
      top: 50%;
    }
  
    // bottommost
    75% {
      left: 45%;
      top: 80%;
    }
  
    87% {
      left: 0%;
      top: 60%;
    }
  
    // rightmost again
    100% {
      left: -20%;
      top: 10%;
    }
  }
  